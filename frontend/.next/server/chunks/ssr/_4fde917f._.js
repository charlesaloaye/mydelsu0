module.exports=[36415,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(85254),e=a.i(26925),f=a.i(98474);function g({currentPath:a=""}){let{isAuthenticated:g}=(0,e.useAuth)(),[h,i]=(0,c.useState)([]),[j,k]=(0,c.useState)(0);return(0,c.useEffect)(()=>{if(!g)return;let a=async()=>{try{let[a,b]=await Promise.all([f.default.getNotifications(),f.default.getUnreadCount()]);a?.success?i(a.data.data||[]):i([]),b?.success?k(b.data.unread_count||0):k(0)}catch(a){i([]),k(0)}};a();let b=setInterval(a,6e4);return()=>clearInterval(b)},[g]),(0,b.jsx)(d.default,{variant:"dashboard",showNotifications:!0,notifications:h,unreadCount:j,onNotificationClick:()=>{},currentPath:a})}a.s(["default",()=>g])},33970,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(26925),f=a.i(98474),g=a.i(56431),h=a.i(36415),i=a.i(38246);a.s(["default",0,function(){var a;let j,{id:k}=(0,d.useParams)();(0,d.useRouter)();let{user:l,isAuthenticated:m}=(0,e.useAuth)(),[n,o]=(0,c.useState)(null),[p,q]=(0,c.useState)(!0),[r,s]=(0,c.useState)(null),[t,u]=(0,c.useState)(!1),[v,w]=(0,c.useState)(!1),[x,y]=(0,c.useState)({message:"",contact_method:"phone"}),[z,A]=(0,c.useState)(!1),[B,C]=(0,c.useState)(0),[D,E]=(0,c.useState)([]);(0,c.useEffect)(()=>{k&&F()},[k]);let F=async()=>{try{q(!0),s(null);let a=await f.default.get(`/marketplace/${k}`);a.success?o(a.data):s("Item not found")}catch(a){console.error("Error loading item:",a),s("Failed to load item details")}finally{q(!1)}},G=async a=>{a.preventDefault(),A(!0);try{(await f.default.post(`/marketplace/${k}/contact`,x)).success?(alert("Message sent to seller successfully!"),u(!1),y({message:"",contact_method:"phone"})):alert("Failed to send message. Please try again.")}catch(a){console.error("Error contacting seller:",a),alert("Failed to send message. Please try again.")}finally{A(!1)}},H=a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return p?(0,b.jsx)(g.default,{requireAuth:!1,children:(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,b.jsx)(Navbar,{variant:"dashboard",currentPath:"/dashboard/marketplace"}),(0,b.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,b.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#488bbf]"})})})]})}):r||!n?(0,b.jsx)(g.default,{requireAuth:!1,children:(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,b.jsx)(Navbar,{variant:"dashboard",currentPath:"/dashboard/marketplace"}),(0,b.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,b.jsxs)("div",{className:"text-center py-16",children:[(0,b.jsx)("div",{className:"mx-auto w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-6",children:(0,b.jsx)("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,b.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:r||"Item not found"}),(0,b.jsx)("p",{className:"text-gray-600 mb-6",children:"The item you're looking for doesn't exist or has been removed."}),(0,b.jsx)(i.default,{href:"/dashboard/marketplace",className:"px-6 py-3 bg-[#488bbf] text-white rounded-xl hover:bg-[#3a6b8f] transition font-medium",children:"Back to Marketplace"})]})})]})}):(0,b.jsx)(g.default,{requireAuth:!1,children:(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,b.jsx)(h.default,{currentPath:"/dashboard/marketplace"}),(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,b.jsx)("nav",{className:"flex mb-8","aria-label":"Breadcrumb",children:(0,b.jsxs)("ol",{className:"inline-flex items-center space-x-1 md:space-x-3",children:[(0,b.jsx)("li",{className:"inline-flex items-center",children:(0,b.jsxs)(i.default,{href:"/dashboard",className:"inline-flex items-center text-sm font-medium text-gray-700 hover:text-[#488bbf]",children:[(0,b.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,b.jsx)("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})}),"Dashboard"]})}),(0,b.jsx)("li",{children:(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("svg",{className:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,b.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),(0,b.jsx)(i.default,{href:"/dashboard/marketplace",className:"ml-1 text-sm font-medium text-gray-700 hover:text-[#488bbf] md:ml-2",children:"Marketplace"})]})}),(0,b.jsx)("li",{"aria-current":"page",children:(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("svg",{className:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,b.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),(0,b.jsx)("span",{className:"ml-1 text-sm font-medium text-gray-500 md:ml-2",children:n.title})]})})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("img",{src:n.images&&n.images.length>0?n.images[B].startsWith("http")?n.images[B]:`http://localhost:8000${n.images[B]}`:"https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=600&h=400&fit=crop",alt:n.title,className:"w-full h-96 object-cover rounded-2xl shadow-lg",onError:a=>{a.target.src="https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=600&h=400&fit=crop"}}),n.images&&n.images.length>1&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("button",{onClick:()=>C(a=>0===a?n.images.length-1:a-1),className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-white/80 hover:bg-white rounded-full p-2 shadow-lg transition",children:(0,b.jsx)("svg",{className:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,b.jsx)("button",{onClick:()=>C(a=>a===n.images.length-1?0:a+1),className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-white/80 hover:bg-white rounded-full p-2 shadow-lg transition",children:(0,b.jsx)("svg",{className:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),n.images&&n.images.length>1&&(0,b.jsxs)("div",{className:"absolute bottom-4 right-4 bg-black/50 text-white px-3 py-1 rounded-full text-sm",children:[B+1," / ",n.images.length]})]}),n.images&&n.images.length>1&&(0,b.jsx)("div",{className:"flex space-x-2 overflow-x-auto",children:n.images.map((a,c)=>(0,b.jsx)("button",{onClick:()=>C(c),className:`shrink-0 w-20 h-20 rounded-lg overflow-hidden border-2 transition ${B===c?"border-[#488bbf]":"border-gray-200 hover:border-gray-300"}`,children:(0,b.jsx)("img",{src:a.startsWith("http")?a:`http://localhost:8000${a}`,alt:`${n.title} ${c+1}`,className:"w-full h-full object-cover",onError:a=>{a.target.src="https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=100&h=100&fit=crop"}})},c))})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${(a=>{switch(a){case"active":return"bg-green-100 text-green-800";case"inactive":default:return"bg-gray-100 text-gray-800";case"sold":return"bg-red-100 text-red-800"}})(n.status)}`,children:n.status.charAt(0).toUpperCase()+n.status.slice(1)}),(0,b.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:{"for-sale":"For Sale",hostels:"Hostels",services:"Services",jobs:"Jobs"}[a=n.category]||a})]}),(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:n.title}),(0,b.jsx)("div",{className:"text-4xl font-bold text-[#488bbf] mb-4",children:(j=n.price,new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0}).format(j))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Description"}),(0,b.jsx)("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:n.description})]}),(0,b.jsxs)("div",{className:"bg-gray-50 rounded-2xl p-6 space-y-4",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Item Details"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsxs)("svg",{className:"w-5 h-5 text-gray-400 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Location"}),(0,b.jsx)("p",{className:"font-medium text-gray-900",children:n.location})]})]}),(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("svg",{className:"w-5 h-5 text-gray-400 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Listed"}),(0,b.jsx)("p",{className:"font-medium text-gray-900",children:H(n.created_at)})]})]})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-2xl p-6 border border-gray-200",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Seller Information"}),(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsx)("img",{src:n.user?.avatar||"/api/placeholder/60/60",alt:n.user?.name||"User",className:"w-15 h-15 rounded-full"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-gray-900",children:n.user?.name||"User"}),(0,b.jsxs)("p",{className:"text-sm text-gray-500",children:["Member since"," ",n.user?.created_at?H(n.user.created_at):"Unknown"]})]})]}),(0,b.jsxs)("div",{className:"mt-4 p-4 bg-gray-50 rounded-xl",children:[(0,b.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Contact Information:"}),(0,b.jsx)("p",{className:"font-medium text-gray-900",children:n.contact})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("button",{onClick:()=>u(!0),className:"w-full bg-linear-to-r from-[#488bbf] to-[#3a6b8f] text-white py-4 px-6 rounded-xl font-semibold hover:from-[#3a6b8f] hover:to-[#2c5f8f] transition-all shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:"Contact Seller"}),(0,b.jsx)(i.default,{href:"/dashboard/marketplace",className:"w-full bg-gray-100 text-gray-700 py-4 px-6 rounded-xl font-semibold hover:bg-gray-200 transition text-center block",children:"Back to Marketplace"})]})]})]})]}),t&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm overflow-y-auto h-full w-full z-50",children:(0,b.jsx)("div",{className:"relative top-10 mx-auto p-5 max-w-md",children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Contact Seller"}),(0,b.jsx)("button",{onClick:()=>u(!1),className:"p-2 hover:bg-gray-100 rounded-full transition",children:(0,b.jsx)("svg",{className:"h-6 w-6 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,b.jsxs)("form",{onSubmit:G,className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Contact Method"}),(0,b.jsxs)("select",{value:x.contact_method,onChange:a=>y(b=>({...b,contact_method:a.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#488bbf] focus:border-transparent transition placeholder-gray-700",children:[(0,b.jsx)("option",{value:"phone",children:"Phone Call"}),(0,b.jsx)("option",{value:"email",children:"Email"}),(0,b.jsx)("option",{value:"whatsapp",children:"WhatsApp"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Message"}),(0,b.jsx)("textarea",{value:x.message,onChange:a=>y(b=>({...b,message:a.target.value})),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#488bbf] focus:border-transparent transition resize-none placeholder-gray-700",placeholder:"Write your message to the seller...",required:!0})]}),(0,b.jsxs)("div",{className:"flex justify-end space-x-4 pt-6",children:[(0,b.jsx)("button",{type:"button",onClick:()=>u(!1),className:"px-6 py-3 text-gray-700 bg-gray-100 rounded-xl font-medium hover:bg-gray-200 transition",children:"Cancel"}),(0,b.jsx)("button",{type:"submit",disabled:z,className:"px-8 py-3 bg-linear-to-r from-[#488bbf] to-[#3a6b8f] text-white rounded-xl font-semibold hover:from-[#3a6b8f] hover:to-[#2c5f8f] transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:z?"Sending...":"Send Message"})]})]})]})})})]})})}])}];

//# sourceMappingURL=_4fde917f._.js.map