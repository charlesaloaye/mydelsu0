module.exports=[36415,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(85254),e=a.i(26925),f=a.i(98474);function g({currentPath:a=""}){let{isAuthenticated:g}=(0,e.useAuth)(),[h,i]=(0,c.useState)([]),[j,k]=(0,c.useState)(0);return(0,c.useEffect)(()=>{if(!g)return;let a=async()=>{try{let[a,b]=await Promise.all([f.default.getNotifications(),f.default.getUnreadCount()]);a?.success?i(a.data.data||[]):i([]),b?.success?k(b.data.unread_count||0):k(0)}catch(a){i([]),k(0)}};a();let b=setInterval(a,6e4);return()=>clearInterval(b)},[g]),(0,b.jsx)(d.default,{variant:"dashboard",showNotifications:!0,notifications:h,unreadCount:j,onNotificationClick:()=>{},currentPath:a})}a.s(["default",()=>g])},30630,a=>{"use strict";var b=a.i(87924),c=a.i(72131);a.i(50944);var d=a.i(38246),e=a.i(36415),f=a.i(26925),g=a.i(98474),h=a.i(56431);let i=()=>{let{user:a}=(0,f.useAuth)(),[h,i]=(0,c.useState)([]),[j,k]=(0,c.useState)(!0),[l,m]=(0,c.useState)(null),[n,o]=(0,c.useState)(""),[p,q]=(0,c.useState)("all"),[r,s]=(0,c.useState)("all"),[t,u]=(0,c.useState)(1),[v,w]=(0,c.useState)(1),[x,y]=(0,c.useState)({});(0,c.useEffect)(()=>{z()},[t,p,r,n]);let z=async()=>{try{k(!0),m(null);let a={page:t,per_page:10,search:n||void 0,type:"all"!==p?p:void 0,priority:"all"!==r?r:void 0};console.log("Loading announcements with params:",a);let b=await g.default.getAnnouncements(a);console.log("Announcements API response:",b),b.success?(console.log("Setting announcements:",b.data),i(b.data),y(b.pagination),w(b.pagination.last_page)):(console.error("API returned success: false",b),m("Failed to load announcements"))}catch(a){console.error("Error loading announcements:",a),m("Failed to load announcements")}finally{k(!1)}};return(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,b.jsx)(e.default,{currentPath:"/announcement"}),(0,b.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[(0,b.jsx)("div",{className:"mb-8",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Announcements"}),(0,b.jsx)("p",{className:"text-gray-600 mt-2",children:"Stay updated with the latest news and important information"})]}),(0,b.jsxs)(d.default,{href:"/dashboard",className:"inline-flex items-center px-4 py-2 bg-[#488bbf] text-white rounded-lg hover:bg-[#3a7ba8] transition-colors",children:[(0,b.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Dashboard"]})]})}),(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[(0,b.jsx)("form",{onSubmit:a=>{a.preventDefault(),u(1),z()},className:"mb-4",children:(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,b.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,b.jsx)("input",{type:"text",placeholder:"Search announcements...",value:n,onChange:a=>o(a.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#488bbf] focus:border-transparent"})]})}),(0,b.jsx)("button",{type:"submit",className:"px-6 py-2 bg-[#488bbf] text-white rounded-lg hover:bg-[#3a7ba8] transition-colors",children:"Search"})]})}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("span",{className:"text-sm font-medium text-gray-700 self-center",children:"Type:"}),["all","info","warning","important","success"].map(a=>(0,b.jsx)("button",{onClick:()=>{q(a),u(1)},className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${p===a?"bg-[#488bbf] text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:a.charAt(0).toUpperCase()+a.slice(1)},a))]}),(0,b.jsxs)("div",{className:"flex gap-2 ml-4",children:[(0,b.jsx)("span",{className:"text-sm font-medium text-gray-700 self-center",children:"Priority:"}),["all","low","medium","high","urgent"].map(a=>(0,b.jsx)("button",{onClick:()=>{s(a),u(1)},className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${r===a?"bg-[#488bbf] text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:a.charAt(0).toUpperCase()+a.slice(1)},a))]})]})]}),j&&(0,b.jsx)("div",{className:"flex justify-center items-center py-12",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#488bbf]"})}),l&&(0,b.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:(0,b.jsxs)("div",{className:"flex",children:[(0,b.jsx)("svg",{className:"h-5 w-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,b.jsxs)("div",{className:"ml-3",children:[(0,b.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),(0,b.jsx)("p",{className:"text-sm text-red-700 mt-1",children:l})]})]})}),!j&&!l&&(0,b.jsxs)(b.Fragment,{children:[0===h.length?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)("div",{className:"mx-auto w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-6",children:(0,b.jsx)("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 4V2a1 1 0 011-1h8a1 1 0 011 1v2m0 0V1a1 1 0 011-1h2a1 1 0 011 1v18a1 1 0 01-1 1H4a1 1 0 01-1-1V1a1 1 0 011-1h2a1 1 0 011 1v3m0 0h8M7 4h8"})})}),(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No announcements found"}),(0,b.jsx)("p",{className:"text-gray-600",children:n||"all"!==p||"all"!==r?"Try adjusting your search criteria":"Check back later for new announcements"})]}):(0,b.jsx)("div",{className:"space-y-4",children:h.map(a=>{var c,d,e;let f,g,h;return(0,b.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[a.is_pinned&&(0,b.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"ðŸ“Œ Pinned"}),(0,b.jsx)("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${(c=a.type,(f={info:"bg-blue-100 text-blue-800",warning:"bg-yellow-100 text-yellow-800",important:"bg-red-100 text-red-800",success:"bg-green-100 text-green-800"})[c]||f.info)}`,children:a.type.charAt(0).toUpperCase()+a.type.slice(1)}),(0,b.jsxs)("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${(d=a.priority,(g={low:"bg-gray-100 text-gray-800",medium:"bg-blue-100 text-blue-800",high:"bg-orange-100 text-orange-800",urgent:"bg-red-100 text-red-800"})[d]||g.medium)}`,children:[(e=a.priority,(h={urgent:"ðŸ”´",high:"ðŸŸ ",medium:"ðŸ”µ",low:"âšª"})[e]||h.medium)," ",a.priority.charAt(0).toUpperCase()+a.priority.slice(1)]})]}),(0,b.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:a.title}),(0,b.jsx)("p",{className:"text-gray-600 mb-4",children:a.content})]})}),(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("span",{children:["By"," ",a.creator?`${a.creator.first_name} ${a.creator.last_name}`:"Admin"]}),(0,b.jsx)("span",{children:"â€¢"}),(0,b.jsx)("span",{children:a.date})]}),(0,b.jsx)("button",{className:"text-[#488bbf] hover:text-[#3a7ba8] font-medium",children:"Read More"})]})]})},a.id)})}),v>1&&(0,b.jsx)("div",{className:"flex justify-center mt-8",children:(0,b.jsxs)("nav",{className:"flex items-center space-x-2",children:[(0,b.jsx)("button",{onClick:()=>u(Math.max(1,t-1)),disabled:1===t,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:v},(a,b)=>b+1).map(a=>(0,b.jsx)("button",{onClick:()=>u(a),className:`px-3 py-2 text-sm font-medium rounded-lg ${t===a?"bg-[#488bbf] text-white":"text-gray-500 bg-white border border-gray-300 hover:bg-gray-50"}`,children:a},a)),(0,b.jsx)("button",{onClick:()=>u(Math.min(v,t+1)),disabled:t===v,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})})]})]})]})};function j(){return(0,b.jsx)(h.default,{requireAuth:!0,children:(0,b.jsx)(i,{})})}a.s(["default",()=>j])}];

//# sourceMappingURL=_16411dd2._.js.map