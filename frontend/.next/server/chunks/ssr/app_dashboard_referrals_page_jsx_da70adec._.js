module.exports=[65779,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(56431),e=a.i(98474),f=a.i(85254);function g(){let[a,d]=(0,c.useState)(!1),[g,h]=(0,c.useState)("all"),[i,j]=(0,c.useState)(!1),[k,l]=(0,c.useState)(!0),[m,n]=(0,c.useState)(""),[o,p]=(0,c.useState)({referralCode:"",referralLink:"",weeklyRank:0,totalEarned:0,totalReferred:0,pendingEarnings:0}),[q,r]=(0,c.useState)([]),s="pending"===g?q.filter(a=>"pending"===a.status):q,t=[{id:1,message:"John Doe just activated their account! â‚¦500 added",time:"2 hours ago",unread:!0},{id:2,message:"You moved up to #3 on the leaderboard!",time:"5 hours ago",unread:!0},{id:3,message:"Jane Smith verified! â‚¦500 earned",time:"1 day ago",unread:!1}],u=t.filter(a=>a.unread).length;(0,c.useEffect)(()=>{let a=!0,b=async()=>{try{n("");let[b,c]=await Promise.all([e.default.getReferralStats(),e.default.getReferrals()]);if(!a)return;console.log("Stats response:",b),console.log("Referrals response:",c),p({referralCode:b.data?.referral_code||"",referralLink:b.data?.referral_link||"",weeklyRank:b.data?.weekly_rank||0,totalEarned:b.data?.total_earned||0,totalReferred:b.data?.total_referred||0,pendingEarnings:b.data?.pending_earnings||0});let d=Array.isArray(c.data)?c.data:Array.isArray(c)?c:[];try{let a=d.map(a=>({id:a.id,name:a.name||a.full_name||a.email||"Unknown",phone:a.phone||a.whatsapp||"",status:a.status||(a.verified?"verified":"pending"),date:a.created_at?new Date(a.created_at).toISOString().slice(0,10):"",earnings:a.earnings||a.reward_amount||0}));r(a)}catch(a){console.error("Error mapping referrals data:",a),console.error("Referrals data structure:",d),r([])}}catch(a){n(a?.message||"Failed to load referrals")}finally{a&&l(!1)}};b();let c=setInterval(b,1e4);return()=>{a=!1,clearInterval(c)}},[]);let v=async()=>{try{if(!o.referralLink){let a=await e.default.generateReferralLink();a?.data?.referral_link&&p(b=>({...b,referralCode:a.data.referral_code||b.referralCode,referralLink:a.data.referral_link}))}}catch(a){}};return(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50 pb-8",children:[(0,b.jsx)(f.default,{variant:"dashboard",showNotifications:!0,notifications:t,unreadCount:u,onNotificationClick:()=>d(!a),currentPath:"/dashboard/referrals"}),(0,b.jsxs)("div",{className:"container mx-auto px-4 py-6 max-w-6xl",children:[(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Referrals"}),(0,b.jsx)("p",{className:"text-gray-600 text-sm mt-1",children:"Invite friends and earn rewards! ðŸŽ"})]}),m&&(0,b.jsx)("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:m}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[(0,b.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-4 shadow-sm hover:shadow-md transition",children:[(0,b.jsxs)("div",{className:"flex items-center mb-2",children:[(0,b.jsx)("span",{className:"text-2xl mr-2",children:"ðŸ†"}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Weekly Rank"})]}),(0,b.jsxs)("p",{className:"text-3xl font-bold",style:{color:"#488bbf"},children:["#",o.weeklyRank]})]}),(0,b.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-4 shadow-sm hover:shadow-md transition",children:[(0,b.jsxs)("div",{className:"flex items-center mb-2",children:[(0,b.jsx)("span",{className:"text-2xl mr-2",children:"ðŸ’°"}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Total Earned"})]}),(0,b.jsxs)("p",{className:"text-3xl font-bold text-green-600",children:["â‚¦",Number(o.totalEarned).toLocaleString()]})]}),(0,b.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-4 shadow-sm hover:shadow-md transition",children:[(0,b.jsxs)("div",{className:"flex items-center mb-2",children:[(0,b.jsx)("span",{className:"text-2xl mr-2",children:"ðŸ‘¥"}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Total Referrals"})]}),(0,b.jsx)("p",{className:"text-3xl font-bold",style:{color:"#488bbf"},children:o.totalReferred})]}),(0,b.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-4 shadow-sm hover:shadow-md transition",children:[(0,b.jsxs)("div",{className:"flex items-center mb-2",children:[(0,b.jsx)("span",{className:"text-2xl mr-2",children:"â³"}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Pending"})]}),(0,b.jsxs)("p",{className:"text-3xl font-bold text-amber-600",children:["â‚¦",Number(o.pendingEarnings).toLocaleString()]})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:[(0,b.jsxs)("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center",children:[(0,b.jsx)("svg",{className:"w-5 h-5 mr-2",style:{color:"#488bbf"},fill:"currentColor",viewBox:"0 0 20 20",children:(0,b.jsx)("path",{d:"M15 8a3 3 0 10-2.977-2.63l-4.94 2.47a3 3 0 100 4.319l4.94 2.47a3 3 0 10.895-1.789l-4.94-2.47a3.027 3.027 0 000-.74l4.94-2.47C13.456 7.68 14.19 8 15 8z"})}),"Your Referral Link"]}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 mb-4",children:[(0,b.jsxs)("div",{className:"flex-1 flex items-center bg-gray-50 rounded-lg px-4 py-3 border border-gray-200",children:[(0,b.jsx)("input",{type:"text",value:o.referralLink,readOnly:!0,className:"flex-1 bg-transparent text-gray-700 text-sm outline-none"}),(0,b.jsx)("button",{onClick:()=>{v(),o.referralLink&&(navigator.clipboard.writeText(o.referralLink),j(!0),setTimeout(()=>j(!1),2e3))},className:"ml-2 px-4 py-2 rounded-lg font-medium text-sm transition-all text-white",style:{backgroundColor:i?"#22c55e":"#488bbf"},children:i?"âœ“ Copied!":"Copy"})]}),(0,b.jsx)("button",{onClick:()=>window.location.href="/leaderboard",className:"px-6 py-3 bg-white border-2 rounded-lg font-medium hover:text-white transition-all",style:{borderColor:"#488bbf",color:"#488bbf"},onMouseEnter:a=>a.target.style.backgroundColor="#488bbf",onMouseLeave:a=>a.target.style.backgroundColor="white",children:"ðŸ† View Leaderboard"})]}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,b.jsxs)("button",{onClick:()=>{let a=`Hey! Join myDelsu and get access to past questions, CGPA calculator, and more student resources. Use my link: ${o.referralLink||"https://mydelsu.com/register"}`;window.open(`https://wa.me/?text=${encodeURIComponent(a)}`,"_blank")},className:"flex items-center space-x-2 px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg font-medium transition",children:[(0,b.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})}),(0,b.jsx)("span",{children:"WhatsApp"})]}),(0,b.jsxs)("button",{className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition",children:[(0,b.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),(0,b.jsx)("span",{children:"Facebook"})]}),(0,b.jsxs)("button",{className:"flex items-center space-x-2 px-4 py-2 bg-sky-500 hover:bg-sky-600 text-white rounded-lg font-medium transition",children:[(0,b.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})}),(0,b.jsx)("span",{children:"Twitter"})]})]})]}),(0,b.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-6 shadow-sm mb-6",children:[(0,b.jsx)("h3",{className:"font-bold text-gray-900 mb-4 text-lg",children:"My Referrals"}),(0,b.jsxs)("div",{className:"flex border-b border-gray-200 mb-4",children:[(0,b.jsxs)("button",{onClick:()=>h("all"),className:`px-6 py-3 font-medium transition-all border-b-2 ${"all"===g?"text-white":"border-transparent text-gray-500 hover:text-gray-700"}`,style:"all"===g?{borderColor:"#488bbf",color:"#488bbf"}:{},children:["All Referrals (",q.length,")"]}),(0,b.jsxs)("button",{onClick:()=>h("pending"),className:`px-6 py-3 font-medium transition-all border-b-2 ${"pending"===g?"text-white":"border-transparent text-gray-500 hover:text-gray-700"}`,style:"pending"===g?{borderColor:"#488bbf",color:"#488bbf"}:{},children:["Pending (",q.filter(a=>"pending"===a.status).length,")"]})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.map(a=>(0,b.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"font-semibold text-gray-900",children:a.name}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:a.phone})]}),(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${"verified"===a.status?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`,children:"verified"===a.status?"âœ“ Verified":"â³ Pending"})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center pt-2 border-t border-gray-100",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500",children:a.date}),"verified"===a.status&&(0,b.jsxs)("p",{className:"text-sm font-semibold text-green-600",children:["+â‚¦",a.earnings]})]})]},a.id))}),0===s.length&&(0,b.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,b.jsxs)("p",{className:"text-lg mb-2",children:["No ","pending"===g?"pending":""," referrals yet"]}),(0,b.jsx)("p",{className:"text-sm",children:"Share your referral link to start earning!"})]})]}),(0,b.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"font-bold text-gray-900 mb-4 text-lg",children:"How Referrals Work"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-full flex items-center justify-center mb-3",style:{backgroundColor:"#488bbf20"},children:(0,b.jsx)("span",{className:"text-2xl",children:"1ï¸âƒ£"})}),(0,b.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"Share Your Link"}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Copy your unique referral link and share it with friends via WhatsApp, Facebook, or any platform."})]}),(0,b.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-full bg-green-100 flex items-center justify-center mb-3",children:(0,b.jsx)("span",{className:"text-2xl",children:"2ï¸âƒ£"})}),(0,b.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"They Sign Up"}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"When someone registers using your link, they become your referral and you earn rewards!"})]}),(0,b.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-full bg-green-100 flex items-center justify-center mb-3",children:(0,b.jsx)("span",{className:"text-2xl",children:"3ï¸âƒ£"})}),(0,b.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"Get Paid â‚¦500"}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Once they activate their account, â‚¦500 is instantly added to your wallet balance!"})]})]})]})]}),(0,b.jsx)("style",{children:`
        @keyframes fadeIn {
          from {
            opacity: 0;
            transform: translateY(-10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
      `})]})}function h(){return(0,b.jsx)(d.default,{requireAuth:!0,children:(0,b.jsx)(g,{})})}a.i(38246),a.s(["default",()=>h])}];

//# sourceMappingURL=app_dashboard_referrals_page_jsx_da70adec._.js.map