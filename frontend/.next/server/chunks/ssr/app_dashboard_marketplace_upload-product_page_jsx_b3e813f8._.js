module.exports=[39280,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(26925),e=a.i(98474),f=a.i(56431),g=a.i(85254),h=a.i(75124);function i(){let{user:a,isAuthenticated:f}=(0,d.useAuth)(),{showSuccess:i,showError:j}=(0,h.useToast)(),[k,l]=(0,c.useState)([]),[m,n]=(0,c.useState)(!1),[o,p]=(0,c.useState)(!1),[q,r]=(0,c.useState)(!1),[s,t]=(0,c.useState)(!1),[u,v]=(0,c.useState)([]),[w,x]=(0,c.useState)(0),[y,z]=(0,c.useState)(""),A={tier:"basic",productsUploaded:2,maxProducts:3,businessName:"",contactNumber:a?.phone||"08012345678"},[B,C]=(0,c.useState)({productName:"",category:"",price:"",condition:"",location:"",priceNegotiable:!1,specifications:"",description:"",businessName:A.businessName});(0,c.useEffect)(()=>{f&&(D(),E())},[f]);let D=async()=>{try{let a=await e.default.getNotifications();if(a.success){let b=a.data.data||a.data||[];v(b);let c=b.filter(a=>!a.read_at);x(c.length)}}catch(a){console.error("Error loading notifications:",a)}},E=async()=>{try{r(!0),(await e.default.getUserSubscription()).success}catch(a){console.error("Error loading subscription info:",a)}finally{r(!1)}},F=(a,b)=>{C({...B,[a]:b})},G=A.productsUploaded<A.maxProducts||"premium"===A.tier,H=async()=>{if(z(""),!G)return void p(!0);if(k.length<2)return void z("Please upload at least 2 images of your product");if(!B.productName||!B.category||!B.price||!B.condition||!B.location||!B.description)return void z("Please fill in all required fields");if(!A.businessName&&!B.businessName)return void z("Please enter your business name");try{t(!0);let a={...B,images:k.map((a,b)=>document.getElementById("image-upload").files[b]).filter(Boolean)},b=await e.default.uploadProduct(a);b.success?(i(b.message||"Product uploaded successfully!"),n(!0),l([]),C({productName:"",category:"",price:"",condition:"",location:"",priceNegotiable:!1,specifications:"",description:"",businessName:A.businessName||B.businessName})):z(b.message||"Failed to upload product")}catch(a){console.error("Error uploading product:",a),z(a.message||"An error occurred while uploading")}finally{t(!1)}};return(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50 pb-8",children:[(0,b.jsx)(g.default,{variant:"dashboard",showNotifications:!0,notifications:u,unreadCount:w,onNotificationClick:()=>{},currentPath:"/dashboard/marketplace/upload-product"}),(0,b.jsxs)("div",{className:"container mx-auto px-4 py-6 max-w-5xl",children:[(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-2",children:"List Your Product 🛍️"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Sell anything - Tech, Books, Fashion, and more!"})]}),y&&(0,b.jsx)("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 mb-6 rounded-r-lg",children:(0,b.jsxs)("div",{className:"flex items-start",children:[(0,b.jsx)("svg",{className:"w-6 h-6 text-red-400 mr-3 shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:(0,b.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold text-red-800 mb-1",children:"Error"}),(0,b.jsx)("p",{className:"text-sm text-red-700",children:y})]})]})}),(0,b.jsx)("div",{className:`border-l-4 p-4 mb-6 rounded-r-lg ${"premium"===A.tier?"bg-purple-50 border-purple-400":"standard"===A.tier?"bg-blue-50 border-blue-400":"bg-green-50 border-green-400"}`,children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold text-gray-900 mb-1",children:"premium"===A.tier?"💎 Premium Plan":"standard"===A.tier?"⭐ Standard Plan":"🌟 Basic Plan"}),(0,b.jsxs)("p",{className:"text-sm text-gray-700",children:["Products: ",A.productsUploaded," /"," ","premium"===A.tier?"∞":A.maxProducts]})]}),(0,b.jsx)("button",{className:"px-4 py-2 rounded-lg font-medium text-white transition",style:{backgroundColor:"#488bbf"},children:"Upgrade Plan"})]})}),!G&&(0,b.jsx)("div",{className:"bg-amber-50 border-l-4 border-amber-400 p-4 mb-6 rounded-r-lg",children:(0,b.jsxs)("div",{className:"flex items-start",children:[(0,b.jsx)("svg",{className:"w-6 h-6 text-amber-400 mr-3",fill:"currentColor",viewBox:"0 0 20 20",children:(0,b.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold text-amber-800 mb-1",children:"Upload Limit Reached"}),(0,b.jsxs)("p",{className:"text-sm text-amber-700",children:["You've reached your ",A.tier," plan limit. Upgrade to list more products."]})]})]})}),(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:[(0,b.jsx)("h3",{className:"font-bold text-gray-900 mb-6 text-lg",children:"Product Information"}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Product Images ",(0,b.jsx)("span",{className:"text-red-500",children:"*"}),(0,b.jsx)("span",{className:"text-gray-500 text-xs ml-2",children:"(Min. 2 images)"})]}),(0,b.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-gray-400 transition",children:[(0,b.jsx)("input",{type:"file",accept:"image/*",multiple:!0,onChange:a=>{l([...k,...Array.from(a.target.files).map(a=>URL.createObjectURL(a))])},className:"hidden",id:"image-upload"}),(0,b.jsxs)("label",{htmlFor:"image-upload",className:"cursor-pointer",children:[(0,b.jsx)("div",{className:"w-16 h-16 rounded-full mx-auto mb-4 flex items-center justify-center",style:{backgroundColor:"#488bbf20"},children:(0,b.jsx)("svg",{className:"w-8 h-8",style:{color:"#488bbf"},fill:"currentColor",viewBox:"0 0 20 20",children:(0,b.jsx)("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})})}),(0,b.jsx)("p",{className:"text-gray-700 font-medium mb-1",children:"Click to upload product images"}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Multiple angles, clear quality"})]})]}),k.length>0&&(0,b.jsx)("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-4 gap-4",children:k.map((a,c)=>(0,b.jsxs)("div",{className:"relative group",children:[(0,b.jsx)("img",{src:a,alt:`Upload ${c+1}`,className:"w-full h-32 object-cover rounded-lg border"}),(0,b.jsx)("button",{onClick:()=>{l(k.filter((a,b)=>b!==c))},className:"absolute top-2 right-2 w-6 h-6 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition",children:"×"})]},c))})]}),!A.businessName&&(0,b.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Your Business Name ",(0,b.jsx)("span",{className:"text-red-500",children:"*"}),(0,b.jsx)("span",{className:"text-gray-500 text-xs ml-2",children:"(Cannot be changed later)"})]}),(0,b.jsx)("input",{type:"text",value:B.businessName,onChange:a=>F("businessName",a.target.value),placeholder:"e.g., Victor's Tech Store",className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),(0,b.jsx)("p",{className:"text-xs text-blue-600 mt-2",children:"⚠️ This will be your permanent business name on all listings"})]}),A.businessName&&(0,b.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[(0,b.jsxs)("p",{className:"text-sm text-gray-700",children:[(0,b.jsx)("strong",{children:"Business Name:"})," ",A.businessName]}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Contact admin to change business name"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Product Name ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{type:"text",value:B.productName,onChange:a=>F("productName",a.target.value),placeholder:"e.g., iPhone 13 Pro Max",className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Category ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsxs)("select",{value:B.category,onChange:a=>F("category",a.target.value),className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,b.jsx)("option",{value:"",children:"Select Category"}),(0,b.jsx)("option",{value:"electronics",children:"📱 Electronics & Tech"}),(0,b.jsx)("option",{value:"fashion",children:"👕 Fashion & Accessories"}),(0,b.jsx)("option",{value:"books",children:"📚 Books & Study Materials"}),(0,b.jsx)("option",{value:"home",children:"🏠 Home & Living"}),(0,b.jsx)("option",{value:"sports",children:"⚽ Sports & Fitness"}),(0,b.jsx)("option",{value:"others",children:"🎨 Others"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Condition ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsxs)("select",{value:B.condition,onChange:a=>F("condition",a.target.value),className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,b.jsx)("option",{value:"",children:"Select Condition"}),(0,b.jsx)("option",{value:"new",children:"Brand New"}),(0,b.jsx)("option",{value:"like-new",children:"Used (Like New)"}),(0,b.jsx)("option",{value:"good",children:"Used (Good)"}),(0,b.jsx)("option",{value:"fair",children:"Used (Fair)"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Price (₦) ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{type:"number",value:B.price,onChange:a=>F("price",a.target.value),placeholder:"e.g., 150000",className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Location ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{type:"text",value:B.location,onChange:a=>F("location",a.target.value),placeholder:"e.g., Abraka, Delta State",className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]}),(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("input",{type:"checkbox",id:"negotiable",checked:B.priceNegotiable,onChange:a=>F("priceNegotiable",a.target.checked),className:"w-4 h-4 rounded",style:{accentColor:"#488bbf"}}),(0,b.jsx)("label",{htmlFor:"negotiable",className:"ml-2 text-sm text-gray-700 cursor-pointer",children:"Price is negotiable"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Product Specifications",(0,b.jsx)("span",{className:"text-gray-500 text-xs ml-2",children:"(Optional - e.g., Color, Size, Brand, Model)"})]}),(0,b.jsx)("input",{type:"text",value:B.specifications,onChange:a=>F("specifications",a.target.value),placeholder:"e.g., Black, 128GB, Apple",className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Description ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("textarea",{value:B.description,onChange:a=>F("description",a.target.value),rows:"5",placeholder:"Describe your product in detail... Include important information about the condition, usage, reason for selling, etc.",className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,b.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[(0,b.jsxs)("p",{className:"text-sm text-gray-700 mb-2",children:[(0,b.jsx)("strong",{children:"Your Contact Number:"})," ",A.contactNumber]}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"Buyers will contact you via WhatsApp or Call on this number"})]}),(0,b.jsx)("button",{onClick:H,disabled:!G||s,className:`w-full py-4 rounded-lg font-semibold text-white transition-all ${G&&!s?"hover:shadow-lg":"opacity-50 cursor-not-allowed"}`,style:{backgroundColor:"#488bbf"},children:s?"Uploading...":G?"List Product →":"Upgrade to List More"})]})]}),(0,b.jsxs)("div",{className:"bg-linear-to-br from-gray-50 to-blue-50 rounded-xl border-2 border-blue-200 p-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Marketplace Plans"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"bg-white rounded-lg p-4 border-2 border-green-200",children:[(0,b.jsx)("h4",{className:"font-bold text-green-600 mb-2",children:"🌟 Basic"}),(0,b.jsxs)("p",{className:"text-2xl font-bold text-gray-900 mb-2",children:["₦500",(0,b.jsx)("span",{className:"text-sm font-normal",children:"/month"})]}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"List up to 3 products"})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg p-4 border-2 border-blue-200",children:[(0,b.jsx)("h4",{className:"font-bold text-blue-600 mb-2",children:"⭐ Standard"}),(0,b.jsxs)("p",{className:"text-2xl font-bold text-gray-900 mb-2",children:["₦1,500",(0,b.jsx)("span",{className:"text-sm font-normal",children:"/month"})]}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"List up to 10 products"})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg p-4 border-2 border-purple-200",children:[(0,b.jsx)("h4",{className:"font-bold text-purple-600 mb-2",children:"💎 Premium"}),(0,b.jsxs)("p",{className:"text-2xl font-bold text-gray-900 mb-2",children:["₦3,000",(0,b.jsx)("span",{className:"text-sm font-normal",children:"/month"})]}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Unlimited products"})]})]})]})]}),m&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-xl p-6 max-w-md w-full text-center",children:[(0,b.jsx)("div",{className:"w-16 h-16 rounded-full bg-green-100 mx-auto mb-4 flex items-center justify-center",children:(0,b.jsx)("svg",{className:"w-8 h-8 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,b.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),(0,b.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Product Listed!"}),(0,b.jsx)("p",{className:"text-gray-600 mb-6",children:"Your product is now live on the marketplace. Buyers can contact you directly via WhatsApp or Call."}),(0,b.jsx)("button",{onClick:()=>n(!1),className:"w-full py-3 rounded-lg font-semibold text-white transition",style:{backgroundColor:"#488bbf"},children:"View My Products"})]})}),o&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-xl p-6 max-w-md w-full text-center",children:[(0,b.jsx)("div",{className:"w-16 h-16 rounded-full bg-amber-100 mx-auto mb-4 flex items-center justify-center",children:(0,b.jsx)("svg",{className:"w-8 h-8 text-amber-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,b.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),(0,b.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Upgrade Required"}),(0,b.jsxs)("p",{className:"text-gray-600 mb-6",children:["You've reached your ",A.tier," plan limit. Upgrade to Standard or Premium to list more products."]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:()=>p(!1),className:"flex-1 py-3 bg-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-300 transition",children:"Cancel"}),(0,b.jsx)("button",{onClick:()=>p(!1),className:"flex-1 py-3 rounded-lg font-semibold text-white transition",style:{backgroundColor:"#488bbf"},children:"Upgrade Now"})]})]})})]})}function j(){return(0,b.jsx)(f.default,{requireAuth:!0,children:(0,b.jsx)(i,{})})}a.s(["default",()=>j])}];

//# sourceMappingURL=app_dashboard_marketplace_upload-product_page_jsx_b3e813f8._.js.map